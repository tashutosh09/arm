webpackJsonp([1],{923:function(l,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var u=e(0),t=(e(1),e(158)),r=e(113),a=e(924),o=(e(67),e(262)),i=e(260),s=e(171),d=e(77),c=e(244),p=e(246),m=e(93),f=e(16),h=e(19),g=(e(166),e(265),e(167),e(594)),R=e(592),b=(e(266),e(38)),v=function(){function l(l,n,e,u,t,r,a,o,i){var d=this;this.navCtrl=l,this.navParams=n,this.store=e,this.modalCtrl=u,this.ruleRunHistoryService=t,this.rulesService=r,this.toastCtrl=a,this.appAlert=o,this.msalService=i,this.rulesViewAsList=!0,this.isAnyRuleSelected=!1,this.selectedRuleCount=0,this.isDisabled=!0,this.searchTerm$=new h.Subject,this.currentSearchTerm="",this.isDisabled=!0,this.ruleGroup=n.get("RuleGroup"),this.ruleGroupID=n.get("RuleGroupID"),this.ruleSubGroupID=n&&n.data&&n.data.RuleGroup&&n.data.RuleGroup.RulesubGroupID?n.data.RuleGroup.RulesubGroupID:"",this.ruleGroup?this.store.dispatch(new s.d(this.ruleGroup.CompanyFlag)):this.store.select(function(l){return l.RuleGroups}).map(function(l){return l.ruleGroups.filter(function(l){return l.RuleGroupID==d.ruleGroupID})}).subscribe(function(l){l&&l.length>0&&(d.ruleGroup=l[0],d.store.dispatch(new s.d(d.ruleGroup.CompanyFlag)))}),this.store.select(function(l){return l.AppConfig}).map(function(l){return l.config}).subscribe(function(l){d.appConfig=l}),this.ruleState$=this.store.select(function(l){return l.rules}),this.ruleState$.subscribe(function(l){d.rulesState=l,d.rulesToShow=d.rulesState.rules;var n=d.rulesState.rules.filter(function(l){return!!l}).filter(function(l){return null==l.LatestRun||"PENDING"!=l.LatestRun.RunStatus&&"RUNNING"!=l.LatestRun.RunStatus});d.selectAllRules=d.rulesToShow.length>0&&n.length===d.rulesState.selectedRules.length,d.isAnyRuleSelected=d.rulesState.selectedRules&&d.rulesState.selectedRules.length>0,d.selectedRuleCount=d.rulesState.selectedRules.length,d.rulesParams=d.rulesState.ruleParams,d.rulesState.isRuleParamsEnabled?(d.showParams=!0,d.isDisabled=!0):d.showParams=!1,null!=d.currentSearchTerm&&""!=d.currentSearchTerm&&d.filterRules()}),this.searchTerm$.debounceTime(400).distinctUntilChanged().do(function(l){d.rulesToShow=d.rulesState.rules}).filter(function(l){return!!l}).map(function(l){return l.toLowerCase()}).subscribe(function(l){d.currentSearchTerm=l,d.filterRules()})}return l.prototype.filterRules=function(){var l=this;this.rulesToShow=this.rulesToShow.filter(function(n){return-1!==n.RuleName.toLowerCase().indexOf(l.currentSearchTerm)||-1!==n.RuleDescription.toLowerCase().indexOf(l.currentSearchTerm)})},l.prototype.ionViewCanEnter=function(){var l=this,n=this;return new Promise(function(e){l.store.select(function(l){return l.Auth}).subscribe(function(u){null!=u&&u.isReady&&u.isLoggedIn&&null!=n.ruleGroupID?(null!=l.msalService.userProfile()&&(l.loggedInUserName=l.msalService.userProfile().idToken.preferred_username),Object(R.a)("true"),e(!0)):(Object(R.a)("true"),e(!1),l.navCtrl.setRoot("SplashPage"))})})},l.prototype.ionViewDidLoad=function(){this.store.dispatch(new p.o),this.store.dispatch(new p.g({reportId:this.ruleSubGroupID}))},l.prototype.runRules=function(){var l=this;if(console.log("Current date: "+new Date),this.isDisabled){if(this.ruleParamsComponent.validateParams()){this.isDisabled=!1;for(var n=new Array,e=(new Date).toISOString().slice(0,19).replace("T"," "),u=this.ruleParamsComponent.getParams(),t=0,r=this.appConfig;t<r.length;t++){var a=r[t];u[a.ConfigName]=a.ConfigValue}for(var o=0,i=this.rulesState.selectedRules;o<i.length;o++){for(var s=i[o],d=s.LatestQuery.QueryString;-1!=d.indexOf("${");)for(var c=0,m=Object.keys(u);c<m.length;c++){var f=m[c];d=d.replace("${"+f+"}",""+u[f])}n.push({RuleRunID:g.UUID.UUID(),RuleID:s.RuleID,QueryID:s.LatestQuery.QueryID,RuleExecutedByUser:this.loggedInUserName,RuleQueryFinalString:d.replace(/\n/g," "),TargetTableName:s.LatestQuery.TargetTableName,RuleParam:JSON.stringify(u),RuleRunStartTime:e})}this.ruleRunHistoryService.add(n).subscribe(function(n){Object(R.a)(n),n&&n.status&&(l.store.dispatch(new p.o),l.showParams=!1)},function(n){l.appAlert.showServerError(n.error),Object(R.a)(n)})}else this.appAlert.showError("Provide app parameters");this.resetParams()}},l.prototype.onRuleFilter=function(l){this.currentSearchTerm=l.target.value,this.searchTerm$.next(l.target.value)},l.prototype.addNewRule=function(){this.modalCtrl.create("ManageRulePage",{rule:{reportId:this.ruleGroupID}},{cssClass:"large-modal"}).present()},l.prototype.onSelectAllRules=function(){this.selectAllRules=!this.selectAllRules,this.store.dispatch(this.selectAllRules?new p.q(this.rulesToShow):new p.o)},l.prototype.getRulesParams=function(){var l=this.rulesState.selectedRules.map(function(l){return l.RuleID});this.store.dispatch(new p.h(l))},l.prototype.resetParams=function(){this.store.dispatch(new p.i),this.store.dispatch(new m.f)},l}(),w=e(247),y=function(){return function(){}}(),S=e(577),I=e(578),P=e(579),C=e(580),O=e(581),T=e(582),N=e(583),_=e(584),E=e(585),D=e(257),k=e(588),L=e(589),j=e(590),A=e(55),G=e(162),F=e(78),x=e(4),M=e(36),V=e(24),$=e(56),U=e(267),q=e(71),Q=e(72),B=e(79),H=e(87),J=e(58),z=e(7),X=e(9),K=e(13),Z=e(10),W=e(88),Y=e(21),ll=e(18),nl=e(47),el=e(68),ul=e(157),tl=e(8),rl=e(46),al=e(259),ol=e(20),il=u["ɵcrt"]({encapsulation:2,styles:[],data:{}});function sl(l){return u["ɵvid"](0,[u["ɵqud"](402653184,1,{_searchbarInput:0}),u["ɵqud"](402653184,2,{_searchbarIcon:0}),u["ɵqud"](402653184,3,{_cancelButton:0}),(l()(),u["ɵeld"](3,0,null,null,8,"div",[["class","searchbar-input-container"]],null,null,null,null,null)),(l()(),u["ɵeld"](4,0,null,null,3,"button",[["class","searchbar-md-cancel"],["clear",""],["color","dark"],["ion-button",""],["mode","md"],["type","button"]],null,[[null,"click"],[null,"mousedown"]],function(l,n,e){var u=!0,t=l.component;"click"===n&&(u=!1!==t.cancelSearchbar(e)&&u);"mousedown"===n&&(u=!1!==t.cancelSearchbar(e)&&u);return u},M.b,M.a)),u["ɵdid"](5,1097728,null,0,V.a,[[8,""],x.a,u.ElementRef,u.Renderer],{color:[0,"color"],mode:[1,"mode"],clear:[2,"clear"]},null),(l()(),u["ɵeld"](6,0,null,0,1,"ion-icon",[["name","md-arrow-back"],["role","img"]],[[2,"hide",null]],null,null,null,null)),u["ɵdid"](7,147456,null,0,rl.a,[x.a,u.ElementRef,u.Renderer],{name:[0,"name"]},null),(l()(),u["ɵeld"](8,0,[[2,0],["searchbarIcon",1]],null,0,"div",[["class","searchbar-search-icon"]],null,null,null,null,null)),(l()(),u["ɵeld"](9,0,[[1,0],["searchbarInput",1]],null,0,"input",[["class","searchbar-input"],["dir","auto"]],[[1,"placeholder",0],[1,"type",0],[1,"autocomplete",0],[1,"autocorrect",0],[1,"spellcheck",0]],[[null,"input"],[null,"blur"],[null,"focus"]],function(l,n,e){var u=!0,t=l.component;"input"===n&&(u=!1!==t.inputChanged(e)&&u);"blur"===n&&(u=!1!==t.inputBlurred()&&u);"focus"===n&&(u=!1!==t.inputFocused()&&u);return u},null,null)),(l()(),u["ɵeld"](10,0,null,null,1,"button",[["class","searchbar-clear-icon"],["clear",""],["ion-button",""],["type","button"]],null,[[null,"click"],[null,"mousedown"]],function(l,n,e){var u=!0,t=l.component;"click"===n&&(u=!1!==t.clearInput(e)&&u);"mousedown"===n&&(u=!1!==t.clearInput(e)&&u);return u},M.b,M.a)),u["ɵdid"](11,1097728,null,0,V.a,[[8,""],x.a,u.ElementRef,u.Renderer],{mode:[0,"mode"],clear:[1,"clear"]},null),(l()(),u["ɵeld"](12,0,[[3,0]],null,2,"button",[["class","searchbar-ios-cancel"],["clear",""],["ion-button",""],["mode","ios"],["type","button"]],[[8,"tabIndex",0]],[[null,"click"],[null,"mousedown"]],function(l,n,e){var u=!0,t=l.component;"click"===n&&(u=!1!==t.cancelSearchbar(e)&&u);"mousedown"===n&&(u=!1!==t.cancelSearchbar(e)&&u);return u},M.b,M.a)),u["ɵdid"](13,1097728,[["cancelButton",4]],0,V.a,[[8,""],x.a,u.ElementRef,u.Renderer],{mode:[0,"mode"],clear:[1,"clear"]},null),(l()(),u["ɵted"](14,0,["",""]))],function(l,n){var e=n.component;l(n,5,0,"dark","md","");l(n,7,0,"md-arrow-back");l(n,11,0,e._mode,"");l(n,13,0,"ios","")},function(l,n){var e=n.component;l(n,6,0,u["ɵnov"](n,7)._hidden),l(n,9,0,e.placeholder,e.type,e._autocomplete,e._autocorrect,e._spellcheck),l(n,12,0,e._isActive?1:-1),l(n,14,0,e.cancelButtonText)})}var dl=e(245),cl=e(32),pl=e(14),ml=e(40),fl=e(35),hl=e(164),gl=e(22),Rl=u["ɵcrt"]({encapsulation:2,styles:[],data:{}});function bl(l){return u["ɵvid"](0,[(l()(),u["ɵeld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function vl(l){return u["ɵvid"](0,[(l()(),u["ɵeld"](0,0,null,null,5,"ion-row",[["class","row"]],null,null,null,null,null)),u["ɵdid"](1,16384,null,0,A.a,[],null,null),(l()(),u["ɵted"](-1,null,["\n    "])),(l()(),u["ɵeld"](3,0,null,null,1,"ion-spinner",[["class","absolute-center"],["name","bubbles"]],[[2,"spinner-paused",null]],null,null,G.b,G.a)),u["ɵdid"](4,114688,null,0,F.a,[x.a,u.ElementRef,u.Renderer],{name:[0,"name"]},null),(l()(),u["ɵted"](-1,null,["\n  "]))],function(l,n){l(n,4,0,"bubbles")},function(l,n){l(n,3,0,u["ɵnov"](n,4)._paused)})}function wl(l){return u["ɵvid"](0,[(l()(),u["ɵeld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function yl(l){return u["ɵvid"](0,[(l()(),u["ɵeld"](0,0,null,null,2,"button",[["class","footer-buttons"],["color","danger"],["ion-button",""]],null,[[null,"tap"]],function(l,n,e){var u=!0;"tap"===n&&(u=!1!==l.component.resetParams()&&u);return u},M.b,M.a)),u["ɵdid"](1,1097728,null,0,V.a,[[8,""],x.a,u.ElementRef,u.Renderer],{color:[0,"color"]},null),(l()(),u["ɵted"](-1,0,["\n        Cancel\n      "]))],function(l,n){l(n,1,0,"danger")},null)}function Sl(l){return u["ɵvid"](0,[(l()(),u["ɵeld"](0,0,null,null,2,"button",[["class","footer-buttons"],["color","secondary"],["ion-button",""]],[[8,"disabled",0]],[[null,"tap"]],function(l,n,e){var u=!0;"tap"===n&&(u=!1!==l.component.getRulesParams()&&u);return u},M.b,M.a)),u["ɵdid"](1,1097728,null,0,V.a,[[8,""],x.a,u.ElementRef,u.Renderer],{color:[0,"color"]},null),(l()(),u["ɵted"](-1,0,["\n        Run Selected\n      "]))],function(l,n){l(n,1,0,"secondary")},function(l,n){l(n,0,0,!n.component.isAnyRuleSelected)})}function Il(l){return u["ɵvid"](0,[(l()(),u["ɵeld"](0,0,null,null,2,"button",[["class","footer-buttons"],["color","secondary"],["ion-button",""]],null,[[null,"tap"]],function(l,n,e){var u=!0;"tap"===n&&(u=!1!==l.component.runRules()&&u);return u},M.b,M.a)),u["ɵdid"](1,1097728,null,0,V.a,[[8,""],x.a,u.ElementRef,u.Renderer],{color:[0,"color"]},null),(l()(),u["ɵted"](-1,0,["\n        Run Selected\n      "]))],function(l,n){l(n,1,0,"secondary")},null)}function Pl(l){return u["ɵvid"](0,[(l()(),u["ɵeld"](0,0,null,null,5,"ion-col",[["class","col"],["no-padding",""]],[[1,"col-4",0],[1,"col-12",0]],null,null,null,null)),u["ɵdid"](1,16384,null,0,$.a,[],null,null),(l()(),u["ɵted"](-1,null,["\n        "])),(l()(),u["ɵeld"](3,0,null,null,1,"rule",[["viewOnly","true"]],null,null,null,k.c,k.a)),u["ɵdid"](4,12763136,null,0,U.a,[f.o,q.a,Q.a,u.ChangeDetectorRef,B.a,c.a,b.a],{rule:[0,"rule"],viewOnly:[1,"viewOnly"]},null),(l()(),u["ɵted"](-1,null,["\n      "]))],function(l,n){l(n,4,0,n.context.$implicit,"true")},function(l,n){var e=n.component;l(n,0,0,!e.rulesViewAsList||null,!!e.rulesViewAsList||null)})}function Cl(l){return u["ɵvid"](0,[(l()(),u["ɵeld"](0,0,null,null,9,"ion-card",[["class","rule-list"],["no-margin",""],["no-padding",""]],null,null,null,null,null)),u["ɵdid"](1,16384,null,0,H.a,[x.a,u.ElementRef,u.Renderer],null,null),(l()(),u["ɵted"](-1,null,["\n    "])),(l()(),u["ɵeld"](3,0,null,null,5,"ion-list",[["no-padding",""]],null,null,null,null,null)),u["ɵdid"](4,16384,null,0,J.a,[x.a,u.ElementRef,u.Renderer,z.a,X.l,K.a],null,null),(l()(),u["ɵted"](-1,null,["\n      "])),(l()(),u["ɵand"](16777216,null,null,1,null,Pl)),u["ɵdid"](7,802816,null,0,Z.NgForOf,[u.ViewContainerRef,u.TemplateRef,u.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),u["ɵted"](-1,null,["\n    "])),(l()(),u["ɵted"](-1,null,["\n  "]))],function(l,n){l(n,7,0,n.component.rulesToShow)},null)}function Ol(l){return u["ɵvid"](0,[(l()(),u["ɵeld"](0,0,null,null,18,"ion-card",[],null,null,null,null,null)),u["ɵdid"](1,16384,null,0,H.a,[x.a,u.ElementRef,u.Renderer],null,null),(l()(),u["ɵted"](-1,null,["\n    "])),(l()(),u["ɵeld"](3,0,null,null,14,"ion-row",[["class","row"],["text-center",""]],null,null,null,null,null)),u["ɵdid"](4,16384,null,0,A.a,[],null,null),(l()(),u["ɵted"](-1,null,["\n      "])),(l()(),u["ɵeld"](6,0,null,null,10,"ion-col",[["class","col"],["col-6",""],["text-left",""]],null,null,null,null,null)),u["ɵdid"](7,16384,null,0,$.a,[],null,null),(l()(),u["ɵted"](-1,null,["\n        "])),(l()(),u["ɵeld"](9,0,null,null,6,"ion-item",[["class","item item-block"],["no-padding",""],["style","background-color: unset !important;"]],null,null,null,W.b,W.a)),u["ɵdid"](10,1097728,null,3,Y.a,[ll.a,x.a,u.ElementRef,u.Renderer,[2,nl.a]],null,null),u["ɵqud"](335544320,2,{contentLabel:0}),u["ɵqud"](603979776,3,{_buttons:1}),u["ɵqud"](603979776,4,{_icons:1}),u["ɵdid"](14,16384,null,0,el.a,[],null,null),(l()(),u["ɵted"](-1,2,["\n          No Rules To Show\n        "])),(l()(),u["ɵted"](-1,null,["\n      "])),(l()(),u["ɵted"](-1,null,["\n    "])),(l()(),u["ɵted"](-1,null,["\n  "]))],null,null)}function Tl(l){return u["ɵvid"](0,[(l()(),u["ɵted"](-1,null,["\n  "])),(l()(),u["ɵand"](16777216,null,null,1,null,Cl)),u["ɵdid"](2,16384,null,0,Z.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["ɵted"](-1,null,["\n  "])),(l()(),u["ɵand"](16777216,null,null,1,null,Ol)),u["ɵdid"](5,16384,null,0,Z.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["ɵted"](-1,null,["\n"]))],function(l,n){var e=n.component;l(n,2,0,e.rulesToShow&&e.rulesToShow.length>0),l(n,5,0,!e.rulesToShow||0===e.rulesToShow.length)},null)}function Nl(l){return u["ɵvid"](0,[(l()(),u["ɵted"](-1,null,["\n  "])),(l()(),u["ɵeld"](1,0,null,null,29,"ion-header",[["class","rules-header"]],null,null,null,null,null)),u["ɵdid"](2,16384,null,0,ul.a,[x.a,u.ElementRef,u.Renderer,[2,tl.a]],null,null),(l()(),u["ɵted"](-1,null,["\n    "])),(l()(),u["ɵeld"](4,0,null,null,25,"ion-row",[["class","row"]],null,null,null,null,null)),u["ɵdid"](5,16384,null,0,A.a,[],null,null),(l()(),u["ɵted"](-1,null,["\n      "])),(l()(),u["ɵeld"](7,0,null,null,2,"ion-col",[["class","col"],["col-5",""],["style","font-weight:700;"],["text-left",""]],null,null,null,null,null)),u["ɵdid"](8,16384,null,0,$.a,[],null,null),(l()(),u["ɵted"](-1,null,["\n        Rule\n      "])),(l()(),u["ɵted"](-1,null,["\n      "])),(l()(),u["ɵeld"](11,0,null,null,2,"ion-col",[["class","col"],["col-3",""],["style","font-weight:700;"],["text-center",""]],null,null,null,null,null)),u["ɵdid"](12,16384,null,0,$.a,[],null,null),(l()(),u["ɵted"](-1,null,["\n        Status\n      "])),(l()(),u["ɵted"](-1,null,["\n      "])),(l()(),u["ɵeld"](15,0,null,null,2,"ion-col",[["class","col"],["col-2",""],["style","font-weight:700;"],["text-center",""]],null,null,null,null,null)),u["ɵdid"](16,16384,null,0,$.a,[],null,null),(l()(),u["ɵted"](-1,null,["\n        History\n      "])),(l()(),u["ɵted"](-1,null,["\n      "])),(l()(),u["ɵeld"](19,0,null,null,9,"ion-col",[["class","col"],["col-2",""],["padding-right",""],["text-right",""]],null,null,null,null,null)),u["ɵdid"](20,16384,null,0,$.a,[],null,null),(l()(),u["ɵted"](-1,null,["\n        "])),(l()(),u["ɵeld"](22,0,null,null,5,"button",[["icon-only",""],["ion-button",""],["margin-right",""],["outline",""],["small",""],["style","width:28px; height:28px; top:0; bottom:0; margin:auto; position:absolute;"]],null,[[null,"tap"]],function(l,n,e){var u=!0;"tap"===n&&(u=!1!==l.component.onSelectAllRules()&&u);return u},M.b,M.a)),u["ɵdid"](23,1097728,null,0,V.a,[[8,""],x.a,u.ElementRef,u.Renderer],{small:[0,"small"],outline:[1,"outline"]},null),(l()(),u["ɵted"](-1,0,["\n          "])),(l()(),u["ɵeld"](25,0,null,0,1,"ion-icon",[["name","checkmark"],["role","img"]],[[8,"hidden",0],[2,"hide",null]],null,null,null,null)),u["ɵdid"](26,147456,null,0,rl.a,[x.a,u.ElementRef,u.Renderer],{name:[0,"name"]},null),(l()(),u["ɵted"](-1,0,["\n        "])),(l()(),u["ɵted"](-1,null,["\n      "])),(l()(),u["ɵted"](-1,null,["\n    "])),(l()(),u["ɵted"](-1,null,["\n  "])),(l()(),u["ɵted"](-1,null,["\n"]))],function(l,n){l(n,23,0,"","");l(n,26,0,"checkmark")},function(l,n){l(n,25,0,!n.component.selectAllRules,u["ɵnov"](n,26)._hidden)})}function _l(l){return u["ɵvid"](0,[(l()(),u["ɵted"](-1,null,["\n  "])),(l()(),u["ɵeld"](1,0,null,null,24,"ion-header",[["class","rules-header-search"]],null,null,null,null,null)),u["ɵdid"](2,16384,null,0,ul.a,[x.a,u.ElementRef,u.Renderer,[2,tl.a]],null,null),(l()(),u["ɵted"](-1,null,["\n    "])),(l()(),u["ɵeld"](4,0,null,null,20,"ion-row",[["class","row"],["no-margin",""],["no-padding",""]],null,null,null,null,null)),u["ɵdid"](5,16384,null,0,A.a,[],null,null),(l()(),u["ɵted"](-1,null,["\n      "])),(l()(),u["ɵeld"](7,0,null,null,5,"ion-col",[["class","col"],["col-11",""],["no-margin",""],["no-padding",""],["text-left",""]],null,null,null,null,null)),u["ɵdid"](8,16384,null,0,$.a,[],null,null),(l()(),u["ɵted"](-1,null,["\n        "])),(l()(),u["ɵeld"](10,0,null,null,1,"ion-searchbar",[["no-margin",""],["no-padding",""]],[[2,"searchbar-animated",null],[2,"searchbar-has-value",null],[2,"searchbar-active",null],[2,"searchbar-show-cancel",null],[2,"searchbar-left-aligned",null],[2,"searchbar-has-focus",null]],[[null,"ionInput"]],function(l,n,e){var u=!0;"ionInput"===n&&(u=!1!==l.component.onRuleFilter(e)&&u);return u},sl,il)),u["ɵdid"](11,1294336,null,0,al.a,[x.a,z.a,u.ElementRef,u.Renderer,[2,ol.NgControl]],null,{ionInput:"ionInput"}),(l()(),u["ɵted"](-1,null,["\n      "])),(l()(),u["ɵted"](-1,null,["\n      "])),(l()(),u["ɵeld"](14,0,null,null,9,"ion-col",[["class","col"],["col-1",""],["no-margin",""],["no-padding",""],["text-center",""]],null,null,null,null,null)),u["ɵdid"](15,16384,null,0,$.a,[],null,null),(l()(),u["ɵted"](-1,null,["\n        "])),(l()(),u["ɵeld"](17,0,null,null,5,"button",[["icon-only",""],["ion-button",""],["no-margin",""],["no-padding",""],["outline",""],["small",""],["style","width:28px; height:28px; top:0; bottom:0; margin:auto; position:absolute;"]],null,[[null,"tap"]],function(l,n,e){var u=!0;"tap"===n&&(u=!1!==l.component.onSelectAllRules()&&u);return u},M.b,M.a)),u["ɵdid"](18,1097728,null,0,V.a,[[8,""],x.a,u.ElementRef,u.Renderer],{small:[0,"small"],outline:[1,"outline"]},null),(l()(),u["ɵted"](-1,0,["\n          "])),(l()(),u["ɵeld"](20,0,null,0,1,"ion-icon",[["name","checkmark"],["role","img"]],[[8,"hidden",0],[2,"hide",null]],null,null,null,null)),u["ɵdid"](21,147456,null,0,rl.a,[x.a,u.ElementRef,u.Renderer],{name:[0,"name"]},null),(l()(),u["ɵted"](-1,0,["\n        "])),(l()(),u["ɵted"](-1,null,["\n      "])),(l()(),u["ɵted"](-1,null,["\n    "])),(l()(),u["ɵted"](-1,null,["\n  "])),(l()(),u["ɵted"](-1,null,["\n"]))],function(l,n){l(n,11,0);l(n,18,0,"","");l(n,21,0,"checkmark")},function(l,n){var e=n.component;l(n,10,0,u["ɵnov"](n,11)._animated,u["ɵnov"](n,11)._value,u["ɵnov"](n,11)._isActive,u["ɵnov"](n,11)._showCancelButton,u["ɵnov"](n,11)._shouldAlignLeft,u["ɵnov"](n,11)._isFocus),l(n,20,0,!e.selectAllRules,u["ɵnov"](n,21)._hidden)})}function El(l){return u["ɵvid"](0,[(l()(),u["ɵted"](-1,null,["\n  "])),(l()(),u["ɵeld"](1,0,null,null,1,"rule-params",[],null,null,null,L.c,L.a)),u["ɵdid"](2,4374528,[[1,4],["ruleParamsComponent",4]],0,i.a,[u.ChangeDetectorRef,f.o],{ruleGroupParams:[0,"ruleGroupParams"]},null),(l()(),u["ɵted"](-1,null,["\n"]))],function(l,n){l(n,2,0,n.component.rulesParams)},null)}function Dl(l){return u["ɵvid"](0,[(l()(),u["ɵted"](-1,null,["\n  "])),(l()(),u["ɵeld"](1,0,null,null,6,"ion-header",[["class","rules-header"]],null,null,null,null,null)),u["ɵdid"](2,16384,null,0,ul.a,[x.a,u.ElementRef,u.Renderer,[2,tl.a]],null,null),(l()(),u["ɵted"](-1,null,["\n    "])),(l()(),u["ɵeld"](4,0,null,null,2,"ion-row",[["class","row"],["style","font-weight:700;"]],null,null,null,null,null)),u["ɵdid"](5,16384,null,0,A.a,[],null,null),(l()(),u["ɵted"](6,null,["\n      "," Rules selected\n    "])),(l()(),u["ɵted"](-1,null,["\n  "])),(l()(),u["ɵted"](-1,null,["\n"]))],null,function(l,n){l(n,6,0,n.component.selectedRuleCount)})}function kl(l){return u["ɵvid"](0,[u["ɵqud"](671088640,1,{ruleParamsComponent:0}),(l()(),u["ɵand"](16777216,null,null,1,null,bl)),u["ɵdid"](2,540672,null,0,Z.NgTemplateOutlet,[u.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(l()(),u["ɵted"](-1,null,["\n\n\n"])),(l()(),u["ɵeld"](4,0,null,null,8,"ion-content",[["no-padding",""]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,dl.b,dl.a)),u["ɵdid"](5,4374528,null,0,cl.a,[x.a,z.a,K.a,u.ElementRef,u.Renderer,pl.a,ml.a,u.NgZone,[2,tl.a],[2,fl.a]],null,null),(l()(),u["ɵted"](-1,1,["\n  "])),(l()(),u["ɵand"](16777216,null,1,1,null,vl)),u["ɵdid"](8,16384,null,0,Z.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["ɵted"](-1,1,["\n  "])),(l()(),u["ɵand"](16777216,null,1,1,null,wl)),u["ɵdid"](11,540672,null,0,Z.NgTemplateOutlet,[u.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(l()(),u["ɵted"](-1,1,["\n"])),(l()(),u["ɵted"](-1,null,["\n\n"])),(l()(),u["ɵeld"](14,0,null,null,23,"ion-footer",[["no-border",""]],null,null,null,null,null)),u["ɵdid"](15,16384,null,0,hl.a,[x.a,u.ElementRef,u.Renderer,[2,tl.a]],null,null),(l()(),u["ɵted"](-1,null,["\n  "])),(l()(),u["ɵeld"](17,0,null,null,19,"ion-row",[["class","row"],["color","light"],["margin",""]],null,null,null,null,null)),u["ɵdid"](18,16384,null,0,A.a,[],null,null),(l()(),u["ɵted"](-1,null,["\n    "])),(l()(),u["ɵeld"](20,0,null,null,5,"ion-col",[["class","col"],["col-6",""],["text-left",""]],null,null,null,null,null)),u["ɵdid"](21,16384,null,0,$.a,[],null,null),(l()(),u["ɵted"](-1,null,["\n      "])),(l()(),u["ɵand"](16777216,null,null,1,null,yl)),u["ɵdid"](24,16384,null,0,Z.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["ɵted"](-1,null,["\n    "])),(l()(),u["ɵted"](-1,null,["\n    "])),(l()(),u["ɵeld"](27,0,null,null,8,"ion-col",[["class","col"],["col-6",""],["no-margin",""],["text-right",""]],null,null,null,null,null)),u["ɵdid"](28,16384,null,0,$.a,[],null,null),(l()(),u["ɵted"](-1,null,["\n      "])),(l()(),u["ɵand"](16777216,null,null,1,null,Sl)),u["ɵdid"](31,16384,null,0,Z.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["ɵted"](-1,null,["\n\n      "])),(l()(),u["ɵand"](16777216,null,null,1,null,Il)),u["ɵdid"](34,16384,null,0,Z.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["ɵted"](-1,null,["\n    "])),(l()(),u["ɵted"](-1,null,["\n  "])),(l()(),u["ɵted"](-1,null,["\n"])),(l()(),u["ɵted"](-1,null,["\n\n\n\n"])),(l()(),u["ɵted"](-1,null,["\n\n"])),(l()(),u["ɵted"](-1,null,["\n"])),(l()(),u["ɵand"](0,[["rules",2]],null,0,null,Tl)),(l()(),u["ɵted"](-1,null,["\n\n"])),(l()(),u["ɵted"](-1,null,["\n"])),(l()(),u["ɵand"](0,[["ruleHeader",2]],null,0,null,Nl)),(l()(),u["ɵted"](-1,null,["\n\n"])),(l()(),u["ɵand"](0,[["ruleHeaderSearch",2]],null,0,null,_l)),(l()(),u["ɵted"](-1,null,[" \n\n\n"])),(l()(),u["ɵted"](-1,null,["\n"])),(l()(),u["ɵand"](0,[["ruleParams",2]],null,0,null,El)),(l()(),u["ɵted"](-1,null,["\n\n\n"])),(l()(),u["ɵted"](-1,null,["\n"])),(l()(),u["ɵand"](0,[["ruleParamsHeader",2]],null,0,null,Dl))],function(l,n){var e=n.component;l(n,2,0,u["ɵnov"](n,e.showParams?52:46)),l(n,8,0,e.rulesState&&e.rulesState.loading),l(n,11,0,u["ɵnov"](n,e.showParams?49:41)),l(n,24,0,e.showParams),l(n,31,0,!e.showParams),l(n,34,0,e.showParams)},function(l,n){l(n,4,0,u["ɵnov"](n,5).statusbarPadding,u["ɵnov"](n,5)._hasRefresher)})}var Ll=u["ɵccf"]("page-report",v,function(l){return u["ɵvid"](0,[(l()(),u["ɵeld"](0,0,null,null,1,"page-report",[],null,null,null,kl,Rl)),u["ɵdid"](1,49152,null,0,v,[fl.a,gl.a,f.o,q.a,d.a,c.a,B.a,o.a,b.a],null,null)],null,null)},{},{},[]),jl=e(250),Al=e(110),Gl=e(48),Fl=e(34),xl=e(89),Ml=e(156),Vl=e(45),$l=e(253),Ul=e(925),ql=e(248),Ql=e(114),Bl=e(254),Hl=e(23),Jl=e(926),zl=e(252),Xl=e(249),Kl=e(251),Zl=e(256),Wl=e(76);e.d(n,"ReportPageModuleNgFactory",function(){return Yl});var Yl=u["ɵcmf"](y,[],function(l){return u["ɵmod"]([u["ɵmpd"](512,u.ComponentFactoryResolver,u["ɵCodegenComponentFactoryResolver"],[[8,[S.a,I.a,P.a,C.a,O.a,T.a,N.a,_.a,E.a,D.b,k.b,L.b,j.a,Ll]],[3,u.ComponentFactoryResolver],u.NgModuleRef]),u["ɵmpd"](4608,Z.NgLocalization,Z.NgLocaleLocalization,[u.LOCALE_ID,[2,Z["ɵa"]]]),u["ɵmpd"](4608,ol["ɵi"],ol["ɵi"],[]),u["ɵmpd"](4608,ol.FormBuilder,ol.FormBuilder,[]),u["ɵmpd"](5120,jl.a,jl.c,[]),u["ɵmpd"](5120,Al.b,Al.a,[Gl.b,jl.a,[3,Al.b]]),u["ɵmpd"](4608,d.a,d.a,[Fl.c,b.a]),u["ɵmpd"](4608,xl.NgSvgIconService,xl.NgSvgIconService,[]),u["ɵmpd"](512,Z.CommonModule,Z.CommonModule,[]),u["ɵmpd"](512,ol["ɵba"],ol["ɵba"],[]),u["ɵmpd"](512,ol.FormsModule,ol.FormsModule,[]),u["ɵmpd"](512,ol.ReactiveFormsModule,ol.ReactiveFormsModule,[]),u["ɵmpd"](512,Ml.a,Ml.a,[]),u["ɵmpd"](512,Ml.b,Ml.b,[]),u["ɵmpd"](512,Fl.e,Fl.e,[]),u["ɵmpd"](512,Fl.d,Fl.d,[]),u["ɵmpd"](512,Vl.a,Vl.a,[]),u["ɵmpd"](1024,f.k,function(){return[{key:"RuleGroups",reducerFactory:f.C,metaReducers:[],initialState:void 0},{key:"rules",reducerFactory:f.C,metaReducers:[],initialState:void 0}]},[]),u["ɵmpd"](1024,f.t,function(){return[$l.a,Ul.a]},[]),u["ɵmpd"](1024,f.u,function(l,n){return[l,n]},[f.t,f.t]),u["ɵmpd"](1024,f.b,function(l,n,e,u,t,r){return[f.z(l,n,e),f.z(u,t,r)]},[u.Injector,f.t,f.u,u.Injector,f.t,f.u]),u["ɵmpd"](131584,f.p,f.p,[f.k,f.b,f.h]),u["ɵmpd"](512,Fl.l,Fl.l,[]),u["ɵmpd"](2048,Fl.k,null,[Fl.l]),u["ɵmpd"](512,Fl.i,Fl.i,[Fl.k]),u["ɵmpd"](2048,Fl.b,null,[Fl.i]),u["ɵmpd"](256,Fl.m,"XSRF-TOKEN",[]),u["ɵmpd"](512,Fl.j,Fl.o,[Z.DOCUMENT,u.PLATFORM_ID,Fl.m]),u["ɵmpd"](256,Fl.n,"X-XSRF-TOKEN",[]),u["ɵmpd"](512,Fl.p,Fl.p,[Fl.j,Fl.n]),u["ɵmpd"](1024,Fl.a,function(l,n){return[l,new ql.a(n)]},[Fl.p,f.o]),u["ɵmpd"](1024,Fl.g,Fl.q,[Fl.b,[2,Fl.a]]),u["ɵmpd"](512,Fl.c,Fl.c,[Fl.g]),u["ɵmpd"](512,Ql.a,Ql.a,[Fl.c]),u["ɵmpd"](512,Bl.a,Bl.a,[Ql.a,Hl.a]),u["ɵmpd"](512,c.a,c.a,[Fl.c,b.a]),u["ɵmpd"](512,Jl.a,Jl.a,[c.a,Hl.a]),u["ɵmpd"](1024,Hl.j,function(l,n){return[Hl.e(l),Hl.e(n)]},[Bl.a,Jl.a]),u["ɵmpd"](512,Hl.h,Hl.h,[Hl.g,Hl.j,[2,f.q]]),u["ɵmpd"](512,zl.a,zl.a,[]),u["ɵmpd"](512,jl.b,jl.b,[]),u["ɵmpd"](512,Xl.a,Xl.a,[]),u["ɵmpd"](512,r.a,r.a,[]),u["ɵmpd"](512,Kl.a,Kl.a,[]),u["ɵmpd"](512,t.a,t.a,[]),u["ɵmpd"](512,Zl.AccordionModule,Zl.AccordionModule,[]),u["ɵmpd"](512,xl.NgSvgIconModule,xl.NgSvgIconModule,[]),u["ɵmpd"](512,w.a,w.a,[]),u["ɵmpd"](512,a.a,a.a,[]),u["ɵmpd"](512,y,y,[]),u["ɵmpd"](256,Wl.a,v,[]),u["ɵmpd"](256,"NgSvgConfig",{},[])])})},924:function(l,n,e){"use strict";e.d(n,"a",function(){return t});e(1),e(45);var u=e(244),t=(e(925),e(926),e(246),function(){function l(){}return n=l,l.forRoot=function(){return{ngModule:n,providers:[u.a]}},l;var n}())},925:function(l,n,e){"use strict";var u=e(246),t={loading:!1,rules:[],error:!1,selectedRules:[],ruleParams:[],isRuleParamsEnabled:!1};n.a=function(l,n){void 0===l&&(l=t);switch(n.type){case u.a:return r({},l,{loading:!0,error:!1});case u.c:return r({},l,{loading:!1,error:!1,rules:n.payload});case u.b:return r({},l,{loading:!1,error:!0});case u.l:var e=Object.assign([],l.selectedRules);return e.push(n.payload),r({},l,{selectedRules:e});case u.j:var e=Object.assign([],l.selectedRules);return e=e.filter(function(l){return l!==n.payload}),r({},l,{selectedRules:e});case u.m:var a=l.rules.filter(function(l){return!!l}).filter(function(l){return null==l.LatestRun||"PENDING"!=l.LatestRun.RunStatus&&"RUNNING"!=l.LatestRun.RunStatus}).filter(function(l){return-1!=n.payload.indexOf(l)}),e=Object.assign([],a);return r({},l,{selectedRules:e});case u.k:return r({},l,{selectedRules:[]});case u.d:return r({},l,{ruleParams:[]});case u.f:return r({},l,{ruleParams:n.payload,isRuleParamsEnabled:!0});case u.e:return r({},l,{ruleParams:[],isRuleParamsEnabled:!1});default:return l}};var r=this&&this.__assign||Object.assign||function(l){for(var n,e=1,u=arguments.length;e<u;e++)for(var t in n=arguments[e])Object.prototype.hasOwnProperty.call(n,t)&&(l[t]=n[t]);return l}},926:function(l,n,e){"use strict";e.d(n,"a",function(){return p});var u=e(1),t=e(23),r=e(2),a=(e.n(r),e(244),e(246)),o=e(49),i=(e.n(o),e(50)),s=(e.n(i),e(51)),d=(e.n(s),e(52)),c=(e.n(d),this&&this.__assign||Object.assign||function(l){for(var n,e=1,u=arguments.length;e<u;e++)for(var t in n=arguments[e])Object.prototype.hasOwnProperty.call(n,t)&&(l[t]=n[t]);return l}),p=function(){function l(l,n){var e=this;this.rulesService=l,this.actions$=n,this.get$=this.actions$.ofType(a.a).map(t.d).switchMap(function(l){return e.rulesService.get(l.reportId).map(function(l){if(l.status&&l.results){console.warn("inside rule effect");var n=l.results.map(function(l){return c({},l,{LatestQuery:l.LatestQuery?JSON.parse(l.LatestQuery):null,LatestRun:l.LatestRun?JSON.parse(l.LatestRun):null})});return{type:a.c,payload:n}}return{type:a.b}}).catch(function(){return r.Observable.of({type:a.b})})}),this.getRuleParam$=this.actions$.ofType(a.d).map(t.d).switchMap(function(l){return e.rulesService.getRuleParams(l)}).map(function(l){return console.log("Rule Effect 08042021: "+JSON.stringify(l.results)),l.status&&l.results?(console.warn("inside rule effect of get rule parmas"),{type:a.f,payload:l.results}):{type:a.e}}).catch(function(){return r.Observable.of({type:a.e})}),console.warn("inside constructor")}return Object(u.__decorate)([Object(t.b)(),Object(u.__metadata)("design:type",Object)],l.prototype,"get$",void 0),Object(u.__decorate)([Object(t.b)(),Object(u.__metadata)("design:type",Object)],l.prototype,"getRuleParam$",void 0),l}()}});